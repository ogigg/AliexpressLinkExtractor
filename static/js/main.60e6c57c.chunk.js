(this["webpackJsonpreact-redux-aliexpress-link"]=this["webpackJsonpreact-redux-aliexpress-link"]||[]).push([[0],{126:function(e,t,n){e.exports=n(224)},131:function(e,t,n){},224:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(3),o=n.n(c),i=(n(131),n(88),n(58)),s=n(51);function l(e){return{type:"CHANGE_TBXLOWER",text:e}}var u={inputUpper:"paste link here",inputLower:""};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_TBXUPPER":return Object.assign({},e,{inputUpper:t.text});case"CHANGE_TBXLOWER":return Object.assign({},e,{inputLower:t.text});case"FIX_IT":return Object.assign({},e,{inputLower:e.inputUpper});case"CLEAR":return Object.assign({},e,{inputUpper:"paste link here",inputLower:""});default:return e}},m=Object(s.b)(p),f=n(25),h=n.n(f),g=n(60),v=n(87),E=n(123),w=n(225),x=n(86),d=n(230),b=n(231),k=n(226),y=n(227),C=n(228),j=k.a.TextArea,A=r.a.createContext({name:"Default"}),L={inputUpper:"",inputLower:""};m.subscribe((function(){L=m.getState(),console.log(m.getState()),console.log(L)}));function O(e){return R.apply(this,arguments)}function R(){return(R=Object(g.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return/<meta property=.og:url. content=...(.*)?\?/g.exec(e)[1]},n=function(e,t){var n=new XMLHttpRequest;return"withCredentials"in n&&n.open(e,t,!0),n},e.abrupt("return",new Promise((function(e,r){var c=n("GET",t);console.log("starting cors rq");var o="";c.onload=function(){var t=c.responseText;return o=a(t),console.log("Funkcja pytajaca: "+o),e(o),o},c.send()})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(){var e=function(e){var t=/aliexpress\.com\/item\/\d+\.html/g,n=Object(v.a)(e.matchAll(t));t=/.\.aliexpress\.com\/\_.+/g;var a=Object(v.a)(e.matchAll(t)),r="",c="";console.log(a),n.map((function(e){r=r+"https://www."+e[0]+"\n",console.log(e[0])}));var o=a.map(function(){var e=Object(g.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("https://cors-anywhere.herokuapp.com/https://"+t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return console.log(o),o.map(function(){var e=Object(g.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:n=e.sent,console.log(n),c=c+"https://"+n+"\n",m.dispatch(l(r+c));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r}(m.getState().inputUpper);return m.dispatch(l(e)),"TEST"},U=Object(i.b)((function(e){return{inputUpper:e.inputUpper,inputLower:e.inputLower}}))((function(e){var t=e.dispatch,n=e.inputUpper,c=e.inputLower,o=y.a.useNotification(),i=Object(E.a)(o,2),s=i[0],u=i[1],p=Object(a.useRef)(null),f=function(e){s.info({message:e,placement:"topRight"})};return r.a.createElement(A.Provider,{value:{name:"Ant Design"}}," ",u,r.a.createElement(d.a,null,r.a.createElement(b.a,{flex:1,class:"test"},r.a.createElement(d.a,{justify:"center"},r.a.createElement(b.a,{flex:1},r.a.createElement(w.a,{title:"Aliexpress Link Fixer",subTitle:"Just paste ugly aliexpress link and get beautiful one! Works for trashy links and links from app",extra:r.a.createElement("a",{href:"https://github.com/ogigg/AliexpressLinkExtractor"},r.a.createElement(C.a,null))}))),r.a.createElement(d.a,null,r.a.createElement(b.a,{flex:1},r.a.createElement("div",{class:"textArea-wrapper"},r.a.createElement(j,{value:n,autoSize:{minRows:5,maxRows:15},onChange:function(e){return t({type:"CHANGE_TBXUPPER",text:e.target.value})}})))),r.a.createElement(d.a,{justify:"center"},r.a.createElement(b.a,{span:18},r.a.createElement("div",{class:"textArea-wrapper"},r.a.createElement(x.a,{block:!0,type:"primary",styles:{whiteSpace:"normal",wordWrap:" break-word"},onClick:function(e){return T()}},"Fix it!"))),r.a.createElement(b.a,{span:3},r.a.createElement("div",{class:"textArea-wrapper"},r.a.createElement(x.a,{block:!0,onClick:function(e){t({type:"CLEAR"}),console.log(m.getState())}},"Clear It!"))),r.a.createElement(b.a,{span:3},r.a.createElement("div",{class:"textArea-wrapper"},r.a.createElement(x.a,{block:!0,onClick:function(e){!function(){var e=p.current.state.value;if(e.length>0){var t=document.createElement("textarea");t.innerText=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove(),f("Copied successfully")}else f("Nothing to copy!")}()}},"Copy It!")))),r.a.createElement(d.a,null,r.a.createElement(b.a,{flex:1},r.a.createElement("div",{class:"textArea-wrapper"},r.a.createElement(j,{onChange:function(e){return t(l(e.target.value))},ref:p,value:c,autoSize:{minRows:5,maxRows:15}})))))))}));n(223);var S=function(){return r.a.createElement(i.a,{store:m},r.a.createElement(U,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,n){}},[[126,1,2]]]);
//# sourceMappingURL=main.60e6c57c.chunk.js.map